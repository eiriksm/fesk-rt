<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FESK Real-Time Decoder</title>
<style>
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    padding: clamp(16px, 4vw, 32px);
    font-family: system-ui, sans-serif;
    line-height: 1.5;
    background: #f7f7f7;
  }
  .app {
    max-width: 720px;
    margin: 0 auto;
    background: #fff;
    padding: clamp(16px, 4vw, 32px);
    border-radius: 0;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
  }
  h1 {
    margin-top: 0;
    margin-bottom: 1rem;
    font-size: clamp(1.5rem, 2.5vw, 2rem);
  }
  button {
    padding: 0.6rem 1.1rem;
    border: 1px solid #ccc;
    border-radius: 0;
    background: #fff;
    cursor: pointer;
    font: inherit;
    transition:
      background-color 0.2s ease,
      border-color 0.2s ease,
      box-shadow 0.2s ease;
  }
  button:hover:not(:disabled),
  button:focus-visible {
    border-color: #888;
    background: #f0f0f0;
    box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
  }
  button:disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }
  .row {
    margin: 1rem 0;
  }
  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    align-items: stretch;
  }
  .controls button {
    flex: 1 1 160px;
    min-width: 140px;
  }
  .controls button:disabled {
    display: none;
  }
  .decoded-line {
    flex: 2 1 240px;
    min-height: 3.25rem;
    border: 1px solid #ddd;
    border-radius: 0;
    background: #fafafa;
    padding: 0.75rem 1rem;
    font:
      15px/1.5 ui-monospace,
      SFMono-Regular,
      Menlo,
      monospace;
    display: flex;
    align-items: center;
  }
  .decoded-line.provisional {
    opacity: 0.65;
    border-bottom: 1px dotted rgba(0, 0, 0, 0.4);
  }
  .decoded-line.decoded-ok {
    color: #0f7a3c;
    font-weight: 600;
  }
  .status-line {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    font-size: 0.95rem;
  }
  .status-line strong {
    margin-right: 0.35rem;
  }
  .sample-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }
  .sample-buttons button {
    flex: 1 1 220px;
    min-width: 140px;
  }
</style>

<div class="app">
  <h1>FESK Real-Time Decoder</h1>
  <div class="row controls">
    <button id="startBtn">Start 🎙️</button>
    <button id="stopBtn" disabled>Stop 🚫</button>
    <button id="downloadBtn" disabled>Download WAV ⬇️</button>
    <div id="decodedLine" class="decoded-line" aria-live="polite"></div>
  </div>
  <div class="row status-line">
    <div><strong>Status:</strong> <span id="status">idle</span></div>
    <div><strong>Sample rate:</strong> <span id="sr">—</span></div>
  </div>
  <div class="row sample-buttons">
    <button id="sample1Btn">Play Sample 1 🔊</button>
    <button id="sample2Btn">Play Sample 2 🔊</button>
    <button id="sample3Btn">Play Sample 3 🔊</button>
    <button id="sample4Btn">Play Sample 4 🔊</button>
    <button id="sample5Btn">Play Sample 5 🔊</button>
    <button id="sample6Btn">Play Sample 6 🔊</button>
    <button id="sample7Btn">Play Sample 7 🔊</button>
    <button id="sample8Btn">Play Sample 8 🔊</button>
  </div>
</div>

<script type="module" src="/src/main.tsx"></script>
